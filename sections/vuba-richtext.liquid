<section
  class="py-12 {% if section.settings.background_color %}bg-{{ section.settings.background_color }}{% endif %} {% if section.settings.background_image != blank %}bg-cover bg-center{% endif %}"
  {% if section.settings.background_image != blank %}
    style="background-image: url('{{ section.settings.background_image | image_url }}');"
  {% endif %}
>
  <div class="container mx-auto px-4">
    <div class="text-center">
      {% if section.settings.title != blank %}
        <h2 class="text-{{ section.settings.title_size }} text-{{ section.settings.text-alignment }}">
          {{ section.settings.title }}
        </h2>
      {% endif %}
      {% if section.settings.richtext %}
        <div class="text-{{ section.settings.alignment }}">
          {{ section.settings.richtext }}
        </div>
      {% endif %}
    </div>
  </div>
  <div class="container mx-auto px-4">
    {% for block in section.blocks %}
      <div class="mb-8 text-{{ block.settings.alignment }}">
        {% if block.type == 'button' %}
          <a href="{{ block.settings.button_link }}" class="inline-block bg-blue-500 text-white py-2 px-4 rounded">
            {{- block.settings.button_text -}}
          </a>
        {% endif %}
        {% if block.type == 'image' %}
          <img
            src="{{ block.settings.image | image_url: width: 800 }}"
            alt="{{ block.settings.image.alt | default: 'Image' }}"
            class="w-full h-auto"
          >
        {% endif %}
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Vuba Rich Text Section",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Rich Text Title"
        },
        {
        "type": "select",
        "id": "title_size",
        "label": "Title Size",
        "options": [
          {
            "value": "text-4xl",
            "label": "Extra Large"
          },
          {
            "value": "text-3xl",
            "label": "Large"
          },
          {
            "value": "text-2xl",
            "label": "Medium"
          },
          {
            "value": "text-xl",
            "label": "Small"
          }
        ],
          "default": "text-4xl"
        },
        {
          "type": "select",
          "id": "text-alignment",
          "label": "Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
        {
      "type": "richtext",
      "id": "richtext",
      "label": "Rich Text",
      "default": "<p>This is some rich text content.</p>"
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    }
  ],
  "blocks": [
    {
      "type": "button",
      "name": "Button",
      "settings": [
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Button"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link",
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Vuba Rich Text Section",
      "category": "Custom",
      "blocks": [
        {
          "type": "button"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
